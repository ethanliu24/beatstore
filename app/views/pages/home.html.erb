<div class="w-full h-full">
  <div class="relative w-screen h-screen">
    <%# Image %>
    <div class="absolute inset-0 bg-cover bg-fixed bg-center bg-no-repeat filter grayscale"
      style="background-image:url('<%= asset_path(hero_banner) %>');"></div>

    <%# Darken overlay %>
    <div class="absolute inset-0 bg-black/25"></div>

    <%# Gradient overlay %>
    <div class="absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"></div>

    <%# Content %>
    <div class="relative z-10 w-full h-full flex justify-center items-center">
      <div class="flex flex-col justify-center items-center gap-1">
        <%= content_tag :h1, class: "font-black text-center text-5xl max-sm:text-3xl px-2" do %>
          <%= t("pages.home.hero.title").html_safe %>
        <% end %>
        <%= content_tag :h2, t("pages.home.hero.subtitle"), class: "font-thin text-center text-lg max-sm:text-sm px-2" %>

        <div class="mt-4 flex justify-between items-stretch gap-6 max-md:flex-col">
          <%= form_with url: tracks_path, method: :get, local: true do |f| %>
            <span class="relative flex-1 w-full">
              <%= icon "search", class: "absolute w-4 aspect-square top-1/2 left-0 -translate-y-1/2 ml-3 text-black pt-[5px]" %>
              <%= f.text_field "q[#{:title_or_description_or_tags_name_i_cont}]", autocomplete: "off", autofocus: false, placeholder: t("pages.home.hero.search.placeholder"),
                class: "px-9 py-3 text-xs rounded-full bg-white text-black overflow-hidden whitespace-nowrap
                  min-w-40 w-[45vw] max-md:w-[60vw] max-sm:w-[80vw]
                  focus:outline-none focus:ring-1 focus:ring-accent rounded",
                style: "text-overflow: ellipsis;" %>
              <button type="submit" class="absolute top-1/2 right-0 -translate-y-1/2 mr-3 mt-[2px] aspect-square cursor-pointer bg-white rounded-full">
                <%= icon "square-rounded-arrow-right", variant: "filled", class: "w-7 h-7 text-black" %>
              </button>
            </span>
          <% end %>

          <%= link_to tracks_path,
            class: "mr-auto flex justify-center items-center gap-2 bg-black border-2 border-accent/60 rounded-full
              cursor-pointer text-white hover:text-accent text-xs max-md:text-[0.6rem] font-bold px-3 py-2 text-nowrap" do %>
            <%= icon "cloud-search", class: "text-accent max-md:w-4" %>
            <%= t("pages.home.hero.explore") %>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <div class="px-16">
    <% [
      { rec: t("pages.home.recs.new"), tracks: @test_tracks },
      { rec: t("pages.home.recs.popular"), tracks: [] },
      { rec: t("pages.home.recs.chinese"), tracks: [] },
      { rec: t("pages.home.recs.dark"), tracks: [] },
      { rec: t("pages.home.recs.underground"), tracks: [] },
      { rec: t("pages.home.recs.gunna"), tracks: [] }
    ].each do |d| %>
      <% unless d[:tracks].empty? %>
        <%= render partial: "home/recommendation", locals: { rec: d[:rec], tracks: d[:tracks] } %>
      <% end %>
    <% end %>
  </div>
</div>
