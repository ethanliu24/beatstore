<% title("Recommendations") %>

<div class="w-full">
  <%= render PageTitleComponent.new(
    title: t("admin.recommendations.index.title"),
    subtitle: t("admin.recommendations.index.subtitle")
  ) %>

  <%= link_to new_admin_recommendation_path, class: "button w-fit px-2 py-1 mb-4" do %>
    <%= icon "plus", class: "w-4 h-4" %>
    <p class="ml-2"><%= t("admin.recommendations.index.add_new") %></p>
  <% end %>

  <% if @recommendations.empty? %>
    <p class="text-center my-10 font-light italic text-secondary-txt">
      <%= t("admin.recommendations.index.empty") %>
    </p>
  <% else %>
    <div
      class="flex flex-col justify-start items-stretch gap-2"
      data-controller="recommendations-drag"
      data-recommendations-drag-target="list"
      data-recommendations-drag-reorder-api-url-value="<%= reorder_admin_recommendations_url %>"
    >
      <% @recommendations.each do |recommendation| %>
        <%= render Admin::RecommendationComponent.new(recommendation:) %>
      <% end %>
    </div>
  <% end %>
</div>
