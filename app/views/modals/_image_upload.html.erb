<turbo-frame id="modal">
  <div class="modal-content" data-controller="upload crop"
    data-upload-model-field-value="<%= model_field %>"
    data-upload-img-destination-id-value="<%= img_destination_id %>"
    data-upload-file-upload-input-container-id-value="<%= file_upload_input_container_id %>">
    <%= render "modals/header", title: "Upload file" %>
    <div class="flex items-center justify-center w-full modal-body">
      <label for="dropzone-file" class="relative flex flex-col items-center justify-center w-full h-64 cursor-pointer bg-secondary-bg hover:bg-hover">
        <div class="flex flex-col items-center justify-center pt-5 pb-6 w-full h-full rounded-lg border-2 border-dashed border-secondary-txt" data-upload-target="imgPlaceholder">
          <%= icon "cloud-up", class: "text-secondary-txt w-10 h-10 mb-2" %>
          <p class="mb-2 text-sm text-secondary-txt"><%= t("general.upload_instruction") %></p>
          <p class="text-xs text-secondary-txt"><%= t("general.accepted_image_types") %></p>
        </div>
        <div id="image-modal-cropper-container" class="w-full h-full absolute top-0 left-0">
          <img id="img-upload-crop" src="" alt=""  data-crop-target="image" data-upload-target="imgCover" />
        </div>
        <input id="dropzone-file" type="file" class="hidden" data-upload-target="imgUpload" data-action="change->upload#image_upload" />
      </label>
    </div>

    <% content_for :modal_footer_content do %>
      <button data-modal-hide="default-modal" type="button" class="button px-2 py-1" data-action="click->crop#cropImage">
        <%= t("label.upload") %>
      </button>
    <% end %>
    <%= render "modals/footer" %>
  </div>
</turbo-frame>
