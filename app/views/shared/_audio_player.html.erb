<div id="audio-player" data-turbo-permanent class="fixed bottom-0 left-0 w-screen py-4 px-8">
  <div class="flex justify-between items-center gap-8 w-full py-2 px-8 rounded-full border-1 border-secondary-txt/30 bg-background/70 backdrop-blur-sm">
    <audio data-audio-player-target="audio"></audio>
    <div class="flex justify-between items-stretch gap-4">
      <img data-audio-player-target="coverPhoto" src="" alt="Track image" draggable="false" class="w-7 h-7 rounded">
      <div class="flex flex-col justify-between items-starttruncate">
        <p class="text-xs" data-audio-player-target="title"></p>
        <div class="flex justify-start items-center gap-1 text-[0.5rem] font-light text-secondary-txt">
          <p data-audio-player-target="bpm"></p>
          <span>Â·</span>
          <p data-audio-player-target="key"></p>
        </div>
      </div>
    </div>
    <div class="flex justify-center items-center gap-4 cursor-pointer">
      <div class="w-fit" data-audio-player-target="playerModeContainer" data-action="click->audio-player#switchMode">
        <%= icon "arrow-forward-up", class: "w-3 h-3 text-secondary-txt hover:text-accent", data: { player_mode: "next" } %>
        <%= icon "repeat", class: "w-3 h-3 text-secondary-txt hover:text-accent hidden", data: { player_mode: "repeat" } %>
        <%= icon "arrows-shuffle", class: "w-3 h-3 text-secondary-txt hover:text-accent hidden", data: { player_mode: "shuffle" } %>
      </div>
      <%= icon "player-track-prev", variant: "filled", class: "w-3 h-3", data: { audio_player_target: "prevBtn" } %>
      <%= icon "player-pause", variant: "filled", class: "w-5 h-5 hidden",
        data: { action: "click->audio-player#pauseAudio", audio_player_target: "pauseBtn" } %>
      <%= icon "player-play", variant: "filled", class: "w-5 h-5",
        data: { action: "click->audio-player#resumeAudio", audio_player_target: "resumeBtn" } %>
      <%= icon "player-track-next", variant: "filled", class: "w-3 h-3", data: { audio_player_target: "nextBtn" } %>
      <%= icon "rotate", class: "w-3 h-3 text-secondary-txt hover:text-accent", data: { action: "click->audio-player#repeatTrack", audio_player_target: "repeatBtn" } %>
    </div>
    <input
      id="audio-player-progress"
      type="range"
      min="0"
      max="100"
      value="0"
      step="0.1"
      class="flex-1 h-[2px] cursor-pointer accent-accent"
      data-action="change->audio-player#seek"
      data-audio-player-target="progressBar"
    />
    <div class="flex justify-between items-center gap-3 cursor-pointer">
      <div class="w-fit h-fit" id="volume-knob" data-action="click->audio-player#toggleVolume"
        data-dropdown-toggle="volume-slider" data-dropdown-trigger="hover" data-dropdown-placement="top">
        <%= icon "volume", class: "w-4 h-4", data: { audio_player_target: "volumeOnBtn" } %>
        <%= icon "volume-off", class: "w-4 h-4 hidden", data: { audio_player_target: "volumeOffBtn" } %>
      </div>
      <div id="volume-slider" class="z-10 hidden p-2 w-32 bg-secondary-bg border-1 border-background rounded">
        <div class="flex justify-center items-center w-full h-full">
          <input
            id="audio-player-volume"
            type="range"
            min="0"
            max="100"
            value="100"
            step="1"
            class="w-full h-1 cursor-pointer accent-primary-txt"
            data-action="change->audio-player#adjustVolume"
            data-audio-player-target="volumeBar"
          />
        </div>
      </div>
    </div>
  </div>
</div>